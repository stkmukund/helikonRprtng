const couponCodes = [
  "IG-EMAIL-3E9PPW0K",
  "IG-EMAIL-Q0ESP5UQ",
  "IG-EMAIL-9FHMQLLG",
  "IG-EMAIL-GXKTVABK",
  "FB-EMAIL-32UUF7JO",
  "IG-EMAIL-LD1T8E9C",
  "IG-EMAIL-MLR1XGYT",
  "THEFEW-AC10OFF-MWFH3SK3",
  "IG-EMAIL-8WW6DIPB",
  "IG-EMAIL-IVQI5JSZ",
  "IG-EMAIL-EVE8L3D5",
  "IG-EMAIL-VV9N7B81",
  "IG-EMAIL-YA2AIMUZ",
  "responder-IDME-556ac2ae798fcb3a",
  "IG-EMAIL-WEHNUVVY",
  "IG-EMAIL-X1S0AEIE",
  "IG-EMAIL-7UORN63R",
  "IG-EMAIL-SPL4AVKX",
  "IG-EMAIL-O0JNJ65V",
  "IG-EMAIL-957KS84F",
  "IG-EMAIL-Q5FZKMOC",
  "IG-EMAIL-O84UI5NK",
  "IG-EMAIL-EI5RZYS4",
  "GRATEFUL12",
  "THEFEW-WLC10-5PKP4Q7R",
  "FB-EMAIL-5UTAWDH8",
  "IG-EMAIL-03UIX2QN",
  "IG-EMAIL-DPPM1UKA",
  "IG-EMAIL-7OM7MOP4",
  "IG-EMAIL-PK101FHI",
  "IG-EMAIL-9Y7C4XPC",
  "IG-EMAIL-XL3K2SY6",
  "IG-EMAIL-A9YXHC77",
  "IG-EMAIL-AVLV70YT",
  "IG-EMAIL-LZJ8KFCB",
  "IG-EMAIL-1OLIZLG0",
  "FB-EMAIL-YSE1WHAV",
  "IG-EMAIL-IK7SL019",
  "FB-EMAIL-1IQQ0S1G",
  "IG-EMAIL-PST0A2ET",
  "IG-EMAIL-AD0FFGVU",
  "IG-EMAIL-MXEJ4IEG",
  "IG-EMAIL-UNKTSZCY",
  "IG-EMAIL-88UCW4AN",
  "IG-EMAIL-MBIHEOJ6",
  "IG-EMAIL-PY8HA66T",
  "IG-EMAIL-09FW0CGC",
  "IG-EMAIL-43JMQRLV",
  "IG-EMAIL-LV898B2T",
  "FB-EMAIL-4D28KT12",
  "IG-EMAIL-NLBW2GRX",
  "military-IDME-aa9cccb8a5eb2ff1",
  "IG-EMAIL-L7PJAZQA",
  "IG-EMAIL-SA7GX61X",
  "IG-EMAIL-WC39U4BH",
  "BRADY20",
  "BRADY30",
  "IG-EMAIL-6OYH2BUC",
  "IG-EMAIL-JDPKNB1B",
  "IG-EMAIL-HOD8UQCC",
  "IG-EMAIL-9OC1J3RU",
  "IG-EMAIL-094HH510",
  "IG-EMAIL-U11RCXLF",
  "IG-EMAIL-18XXJ9K2",
  "IG-EMAIL-VTZD9W9S",
  "IG-EMAIL-AZDHT806",
  "IG-EMAIL-GNBY4JM4",
  "IG-EMAIL-0TDEVD9J",
  "FB-EMAIL-81YCM7NE",
  "FB-EMAIL-GYDTUB4O",
  "IG-EMAIL-XPNFJS7V",
  "IG-EMAIL-A5AOJR4O",
  "OKR5-CP77F-NRV3",
  "THEFEW-WLC10-NJ73V3S2",
  "IG-EMAIL-WFJHSYM5",
  "IG-EMAIL-3DJNOS0F",
  "IG-EMAIL-1DT1KXJG",
  "IG-EMAIL-RQFXGJ1T",
  "IG-EMAIL-ERLGRTCF",
  "IG-EMAIL-H89H3PYX",
  "IG-EMAIL-1QER04JQ",
  "IG-EMAIL-MWR9I8LX",
  "ATTACK30-M9GS6FB7",
  "IG-EMAIL-R2ZYEZMD",
  "IG-EMAIL-ZQOFV6MJ",
  "IG-EMAIL-OYVG1RTD",
  "IG-EMAIL-59NSDUFD",
  "IG-EMAIL-QGL7JHSB",
  "IG-EMAIL-5ELDMOXX",
  "IG-EMAIL-APEN4O9E",
  "IG-EMAIL-2M2PBN32",
  "IG-EMAIL-1RCI30ZQ",
  "responder-IDME-7e7f961db7f6529e",
  "IG-EMAIL-64TPMSNG",
  "FB-EMAIL-IC0G4EM6",
  "IG-EMAIL-IWLKQIPP",
  "IG-EMAIL-DDWCP63S",
  "IG-EMAIL-CIGLELNS",
  "IG-EMAIL-5HG6OH0L",
];

const discount = [
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 20, 30,
  10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  10, 10, 10, 10, 30, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
  10, 10, 10,
];

const discountType = [
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "FLAT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "FLAT",
  "FLAT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "FLAT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
  "PERCENT",
];

const startDate = [
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/10/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/09/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/09/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/07/2024",
  "09/07/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/08/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/08/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
  "09/07/2024",
];

const endDate = [
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/13/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "",
  "09/24/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/16/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/15/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
  "09/14/2024",
];

export default defineEventHandler(async (event) => {
  const requestOptions = {
    method: "POST",
    redirect: "follow",
  };

  const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

  const update = async () => {
    for (let index = 0; index < couponCodes.length; index++) {
      try {
        const response = await $fetch(
          `https://api.checkoutchamp.com/coupon/create/?loginId=revboostapirs.fwh&password=RSR6dkowedkmwpeEeE1YjJ&campaignId=1&couponCode=${couponCodes[index]}&discountType=${discountType[index]}&discount=${discount[index]}&oneTimeCoupon=true&singleUse=true&startDate=${startDate[index]}&endDate=${endDate[index]}&applyTo=BASE`,
          requestOptions
        );
        console.log(`Response for coupon ${couponCodes[index]}:`, response);
      } catch (error) {
        console.error(`Error for coupon ${couponCodes[index]}:`, error);
      }
      // Wait for 1 second (1000 milliseconds) before the next request
      await delay(5000);
    }
  };

  const response = await update();

  return {
    hello: "world",
    response
  };
});
